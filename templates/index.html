import sqlite3

# Connect to SQLite database (or create it if it doesn't exist)
conn = sqlite3.connect("stocks.db")
cursor = conn.cursor()

# Create table for stock data
cursor.execute('''
CREATE TABLE IF NOT EXISTS stocks (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    ticker TEXT UNIQUE NOT NULL,
    current_price REAL,
    change_percent REAL,
    signal TEXT,
    timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
);
''')

# Create table for tracking stocks dynamically
cursor.execute('''
CREATE TABLE IF NOT EXISTS tracked_stocks (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    ticker TEXT UNIQUE NOT NULL
);
''')

# Commit and close connection
conn.commit()
conn.close()

print("Database schema created successfully.")
